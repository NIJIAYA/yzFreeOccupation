<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="format-detection" content="telephone=no" />
  <link rel="icon" href="<%= BASE_URL %>fav.ico">
  <link rel="stylesheet" href="https://static.cnool.net/css/base.css">
  <script type="text/javascript" src="https://js.cdn.aliyun.dcloud.net.cn/dev/uni-app/uni.webview.1.5.2.js"></script>
  <script>
    window.basePathUrl = '<%= BASE_URL %>' //标识config、widgets所在的目录 
  </script>

  <!--引入cesium基础lib-->
  <link href="/static/css/widgets.css" rel="stylesheet" type="text/css" />
  <script src="/static/js/Cesium.js" type="text/javascript"></script>
  <script src="/static/js/turf.min.js" type="text/javascript"></script>
  <!--引入mars3d库lib-->
  <link href="/static/css/mars3d.css" rel="stylesheet" type="text/css" />
  <script src="/static/js/mars3d.js" type="text/javascript"></script>
  <title></title>
</head>

<body>
  <noscript>
    <strong>请启用 JavaScript 以便继续浏览本网站。</strong>
  </noscript>
  <div id="app"></div>
  <!-- built files will be auto injected -->
</body>

</html>
<script>

(function (win) {
  var doc = win.document
  var docEl = doc.documentElement
  var tid
 
  function refreshRem () {
    var width = docEl.getBoundingClientRect().width
    // console.log('视窗宽度')
    console.log(width)
    // if (width > 640) {// 最大宽度
    //   width = 640;
    // }
    var rem = width / 50
    docEl.style.fontSize = rem + 'px'
  }
 
  win.addEventListener(
    'resize',
    function () {
      //当调整浏览器窗口大小时，发生 resize 事件。
      // console.log('浏览器窗口大小发生变化resize~~')
      this.clearTimeout(tid)
      tid = this.setTimeout(refreshRem, 300)
    },
    false
  )
  win.addEventListener(
    'pageshow',
    function (e) {
      //事件在每次加载页面时触发,类似于 onload 事件
      // console.log('页面加载事件pageshow~~')
      if (e.persisted) {
        this.clearTimeout(tid)
        tid = this.setTimeout(refreshRem, 300)
      }
    },
    false
  )
  refreshRem()
})(window)
</script>
